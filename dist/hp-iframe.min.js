/**
 * hp-iframe 
 * @version v0.1.2 
 * @link https://github.com/honestpolicy/HPIframe.git 
 * @license MIT 
 */ 

!function(e){function t(e){var t;t=document.getElementById("hopo-iframe"),(null===e||200>e||e>3e3)&&(e=1e3),t.style.height=e+"px"}function o(e){var o;null!==e.data&&""!==e.data&&(o=parseInt(e.data)+80,i.automaticResize&&o>0?t(o):(hook=i.runtime["on"+e.data.hookName],hook&&hook(e.data.argument1,e.data.argument2,e.data.argument3,e.data.argument4)))}function n(){var e,t;e=document.querySelector('meta[name="viewport"]'),null===e&&(t=document.createElement("meta"),t.name="viewport",t.content=i.viewportContent,document.querySelector("head").appendChild(t))}function a(){function t(){a.contentWindow.postMessage("requestSize","*"),n=!1}function o(){n||(n=!0,e.requestAnimationFrame?e.requestAnimationFrame(t):setTimeout(t,66))}var n=!1,a=document.getElementById("hopo-iframe");e.addEventListener("resize",o,!1)}var i,r;e.console||(e.console={}),r=function(){i=this},r.prototype.automaticResize=!1,r.prototype.ensureMobileMeta=!0,r.prototype.viewportContent="width=device-width, initial-scale=1",r.prototype.runtime={},r.prototype.urlParams="",r.prototype.authToken="",r.prototype.load=function(){function t(){var t,n;return i=!0,(t=document.getElementById("hopo-iframe"))?(d.automaticResize&&t.setAttribute("scrolling","no"),n={LOCAL:"http://localhost:3000/",LOCALPOW:"http://hopo.dev/",STAGING:"https://staging.honestpolicy.com/",undefined:"https://www.honestpolicy.com/"},t.src=n[d.mode]+"iframe/widget?auth_token="+d.authToken+"&"+d.urlParams+"&post_size="+d.automaticResize,r.parentNode&&r.parentNode.removeChild(r),e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),void a()):console.log("%c You must have an iframe in the DOM with an id of 'hopo-iframe'","background: black; color: red;")}var i,r=document.getElementById("iframe"),d=this;if(this.ensureMobileMeta&&n(),document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var c;try{c=null!==e.frameElement}catch(m){}if(document.documentElement.doScroll&&!c){var u=function(){if(!i)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(u,10)}};u()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}},e.Iframe=r}(window);